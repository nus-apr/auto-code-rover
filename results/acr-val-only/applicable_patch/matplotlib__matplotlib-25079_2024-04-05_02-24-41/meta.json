{
    "task_id": "matplotlib__matplotlib-25079",
    "setup_info": {
        "repo_path": "/home/haifeng/projects/reverse-prompt/SWE-bench/testbed/matplotlib__matplotlib/setup_matplotlib__matplotlib__3.6",
        "env_name": "setup_matplotlib__matplotlib__3.6",
        "pre_install": [],
        "install": "python -m pip install -e .",
        "test_cmd": "pytest --no-header -rA --tb=no -p no:cacheprovider lib/matplotlib/tests/test_colors.py"
    },
    "task_info": {
        "instance_id": "matplotlib__matplotlib-25079",
        "base_commit": "66f7956984cbfc3647e867c6e5fde889a89c64ef",
        "hints_text": "",
        "created_at": "2023-01-25T15:24:44Z",
        "test_patch": "diff --git a/lib/matplotlib/tests/test_colors.py b/lib/matplotlib/tests/test_colors.py\n--- a/lib/matplotlib/tests/test_colors.py\n+++ b/lib/matplotlib/tests/test_colors.py\n@@ -1493,6 +1493,11 @@ def test_norm_callback():\n     norm.vmax = 5\n     assert increment.call_count == 2\n \n+    # We only want autoscale() calls to send out one update signal\n+    increment.call_count = 0\n+    norm.autoscale([0, 1, 2])\n+    assert increment.call_count == 1\n+\n \n def test_scalarmappable_norm_update():\n     norm = mcolors.Normalize()\n",
        "repo": "matplotlib/matplotlib",
        "problem_statement": "[Bug]: Setting norm with existing colorbar fails with 3.6.3\n### Bug summary\r\n\r\nSetting the norm to a `LogNorm` after the colorbar has been created (e.g. in interactive code) fails with an `Invalid vmin` value in matplotlib 3.6.3.\r\n\r\nThe same code worked in previous matplotlib versions.\r\n\r\nNot that vmin and vmax are explicitly set to values valid for `LogNorm` and no negative values (or values == 0) exist in the input data.\r\n\r\n### Code for reproduction\r\n\r\n```python\r\nimport matplotlib.pyplot as plt\r\nfrom matplotlib.colors import LogNorm\r\nimport numpy as np\r\n\r\n# create some random data to fill a 2d plot\r\nrng = np.random.default_rng(0)\r\nimg = rng.uniform(1, 5, (25, 25))\r\n\r\n# plot it\r\nfig, ax = plt.subplots(layout=\"constrained\")\r\nplot = ax.pcolormesh(img)\r\ncbar = fig.colorbar(plot, ax=ax)\r\n\r\nvmin = 1\r\nvmax = 5\r\n\r\nplt.ion()\r\nfig.show()\r\nplt.pause(0.5)\r\n\r\nplot.norm = LogNorm(vmin, vmax)\r\nplot.autoscale()\r\nplt.pause(0.5)\r\n```\r\n\r\n\r\n### Actual outcome\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/mnoethe/.local/conda/envs/cta-dev/lib/python3.9/site-packages/matplotlib/backends/backend_qt.py\", line 454, in _draw_idle\r\n    self.draw()\r\n  File \"/home/mnoethe/.local/conda/envs/cta-dev/lib/python3.9/site-packages/matplotlib/backends/backend_agg.py\", line 405, in draw\r\n    self.figure.draw(self.renderer)\r\n  File \"/home/mnoethe/.local/conda/envs/cta-dev/lib/python3.9/site-packages/matplotlib/artist.py\", line 74, in draw_wrapper\r\n    result = draw(artist, renderer, *args, **kwargs)\r\n  File \"/home/mnoethe/.local/conda/envs/cta-dev/lib/python3.9/site-packages/matplotlib/artist.py\", line 51, in draw_wrapper\r\n    return draw(artist, renderer)\r\n  File \"/home/mnoethe/.local/conda/envs/cta-dev/lib/python3.9/site-packages/matplotlib/figure.py\", line 3082, in draw\r\n    mimage._draw_list_compositing_images(\r\n  File \"/home/mnoethe/.local/conda/envs/cta-dev/lib/python3.9/site-packages/matplotlib/image.py\", line 131, in _draw_list_compositing_images\r\n    a.draw(renderer)\r\n  File \"/home/mnoethe/.local/conda/envs/cta-dev/lib/python3.9/site-packages/matplotlib/artist.py\", line 51, in draw_wrapper\r\n    return draw(artist, renderer)\r\n  File \"/home/mnoethe/.local/conda/envs/cta-dev/lib/python3.9/site-packages/matplotlib/axes/_base.py\", line 3100, in draw\r\n    mimage._draw_list_compositing_images(\r\n  File \"/home/mnoethe/.local/conda/envs/cta-dev/lib/python3.9/site-packages/matplotlib/image.py\", line 131, in _draw_list_compositing_images\r\n    a.draw(renderer)\r\n  File \"/home/mnoethe/.local/conda/envs/cta-dev/lib/python3.9/site-packages/matplotlib/artist.py\", line 51, in draw_wrapper\r\n    return draw(artist, renderer)\r\n  File \"/home/mnoethe/.local/conda/envs/cta-dev/lib/python3.9/site-packages/matplotlib/collections.py\", line 2148, in draw\r\n    self.update_scalarmappable()\r\n  File \"/home/mnoethe/.local/conda/envs/cta-dev/lib/python3.9/site-packages/matplotlib/collections.py\", line 891, in update_scalarmappable\r\n    self._mapped_colors = self.to_rgba(self._A, self._alpha)\r\n  File \"/home/mnoethe/.local/conda/envs/cta-dev/lib/python3.9/site-packages/matplotlib/cm.py\", line 511, in to_rgba\r\n    x = self.norm(x)\r\n  File \"/home/mnoethe/.local/conda/envs/cta-dev/lib/python3.9/site-packages/matplotlib/colors.py\", line 1694, in __call__\r\n    raise ValueError(\"Invalid vmin or vmax\")\r\nValueError: Invalid vmin or vmax\r\n```\r\n\r\n### Expected outcome\r\n\r\nWorks, colorbar and mappable are updated with new norm.\r\n\r\n### Additional information\r\n\r\n_No response_\r\n\r\n### Operating system\r\n\r\nLinux\r\n\r\n### Matplotlib Version\r\n\r\n3.6.3 (works with 3.6.2)\r\n\r\n### Matplotlib Backend\r\n\r\nMultpiple backends tested, same error in all (Qt5Agg, TkAgg, agg, ...)\r\n\r\n### Python version\r\n\r\n3.9.15\r\n\r\n### Jupyter version\r\n\r\nnot in jupyter\r\n\r\n### Installation\r\n\r\nconda\n",
        "version": "3.6",
        "FAIL_TO_PASS": [
            "lib/matplotlib/tests/test_colors.py::test_norm_callback"
        ],
        "PASS_TO_PASS": [
            "lib/matplotlib/tests/test_colors.py::TestAsinhNorm::test_init",
            "lib/matplotlib/tests/test_colors.py::TestAsinhNorm::test_norm",
            "lib/matplotlib/tests/test_colors.py::test_2d_to_rgba",
            "lib/matplotlib/tests/test_colors.py::test_BoundaryNorm",
            "lib/matplotlib/tests/test_colors.py::test_CenteredNorm",
            "lib/matplotlib/tests/test_colors.py::test_FuncNorm",
            "lib/matplotlib/tests/test_colors.py::test_LogNorm",
            "lib/matplotlib/tests/test_colors.py::test_LogNorm_inverse",
            "lib/matplotlib/tests/test_colors.py::test_Normalize",
            "lib/matplotlib/tests/test_colors.py::test_PowerNorm",
            "lib/matplotlib/tests/test_colors.py::test_PowerNorm_translation_invariance",
            "lib/matplotlib/tests/test_colors.py::test_SymLogNorm",
            "lib/matplotlib/tests/test_colors.py::test_SymLogNorm_colorbar",
            "lib/matplotlib/tests/test_colors.py::test_SymLogNorm_single_zero",
            "lib/matplotlib/tests/test_colors.py::test_TwoSlopeNorm_Even",
            "lib/matplotlib/tests/test_colors.py::test_TwoSlopeNorm_Odd",
            "lib/matplotlib/tests/test_colors.py::test_TwoSlopeNorm_TwoSlopeNorm_VminGTVmax",
            "lib/matplotlib/tests/test_colors.py::test_TwoSlopeNorm_VcenterGTVmax",
            "lib/matplotlib/tests/test_colors.py::test_TwoSlopeNorm_VmaxEqualsVcenter",
            "lib/matplotlib/tests/test_colors.py::test_TwoSlopeNorm_VminEqualsVcenter",
            "lib/matplotlib/tests/test_colors.py::test_TwoSlopeNorm_VminGTVcenter",
            "lib/matplotlib/tests/test_colors.py::test_TwoSlopeNorm_autoscale",
            "lib/matplotlib/tests/test_colors.py::test_TwoSlopeNorm_autoscale_None_vmax",
            "lib/matplotlib/tests/test_colors.py::test_TwoSlopeNorm_autoscale_None_vmin",
            "lib/matplotlib/tests/test_colors.py::test_TwoSlopeNorm_premature_scaling",
            "lib/matplotlib/tests/test_colors.py::test_TwoSlopeNorm_scale",
            "lib/matplotlib/tests/test_colors.py::test_TwoSlopeNorm_scaleout_center",
            "lib/matplotlib/tests/test_colors.py::test_TwoSlopeNorm_scaleout_center_max",
            "lib/matplotlib/tests/test_colors.py::test_autoscale_masked",
            "lib/matplotlib/tests/test_colors.py::test_boundarynorm_and_colorbarbase[png]",
            "lib/matplotlib/tests/test_colors.py::test_cm_set_cmap_error",
            "lib/matplotlib/tests/test_colors.py::test_cmap_and_norm_from_levels_and_colors2",
            "lib/matplotlib/tests/test_colors.py::test_cmap_and_norm_from_levels_and_colors[png]",
            "lib/matplotlib/tests/test_colors.py::test_cn",
            "lib/matplotlib/tests/test_colors.py::test_color_names",
            "lib/matplotlib/tests/test_colors.py::test_color_sequences",
            "lib/matplotlib/tests/test_colors.py::test_colormap_alpha_array",
            "lib/matplotlib/tests/test_colors.py::test_colormap_bad_data_with_alpha",
            "lib/matplotlib/tests/test_colors.py::test_colormap_copy",
            "lib/matplotlib/tests/test_colors.py::test_colormap_endian",
            "lib/matplotlib/tests/test_colors.py::test_colormap_equals",
            "lib/matplotlib/tests/test_colors.py::test_colormap_invalid",
            "lib/matplotlib/tests/test_colors.py::test_colormap_return_types",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Accent]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Accent_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Blues]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Blues_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[BrBG]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[BrBG_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[BuGn]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[BuGn_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[BuPu]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[BuPu_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[CMRmap]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[CMRmap_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Dark2]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Dark2_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[GnBu]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[GnBu_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Greens]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Greens_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Greys]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Greys_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[OrRd]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[OrRd_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Oranges]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Oranges_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[PRGn]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[PRGn_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Paired]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Paired_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Pastel1]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Pastel1_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Pastel2]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Pastel2_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[PiYG]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[PiYG_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[PuBuGn]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[PuBuGn_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[PuBu]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[PuBu_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[PuOr]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[PuOr_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[PuRd]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[PuRd_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Purples]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Purples_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[RdBu]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[RdBu_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[RdGy]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[RdGy_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[RdPu]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[RdPu_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[RdYlBu]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[RdYlBu_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[RdYlGn]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[RdYlGn_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Reds]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Reds_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Set1]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Set1_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Set2]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Set2_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Set3]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Set3_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Spectral]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Spectral_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Wistia]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[Wistia_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[YlGnBu]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[YlGnBu_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[YlGn]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[YlGn_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[YlOrBr]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[YlOrBr_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[YlOrRd]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[YlOrRd_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[afmhot]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[afmhot_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[autumn]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[autumn_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[binary]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[binary_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[bone]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[bone_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[brg]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[brg_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[bwr]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[bwr_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[cividis]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[cividis_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[cool]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[cool_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[coolwarm]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[coolwarm_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[copper]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[copper_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[cubehelix]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[cubehelix_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[flag]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[flag_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gist_earth]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gist_earth_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gist_gray]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gist_gray_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gist_heat]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gist_heat_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gist_ncar]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gist_ncar_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gist_rainbow]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gist_rainbow_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gist_stern]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gist_stern_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gist_yarg]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gist_yarg_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gnuplot2]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gnuplot2_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gnuplot]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gnuplot_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gray]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[gray_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[hot]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[hot_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[hsv]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[hsv_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[inferno]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[inferno_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[jet]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[jet_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[magma]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[magma_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[nipy_spectral]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[nipy_spectral_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[ocean]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[ocean_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[pink]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[pink_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[plasma]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[plasma_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[prism]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[prism_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[rainbow]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[rainbow_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[seismic]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[seismic_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[spring]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[spring_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[summer]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[summer_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[tab10]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[tab10_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[tab20]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[tab20_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[tab20b]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[tab20b_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[tab20c]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[tab20c_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[terrain]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[terrain_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[turbo]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[turbo_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[twilight]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[twilight_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[twilight_shifted]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[twilight_shifted_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[viridis]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[viridis_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[winter]",
            "lib/matplotlib/tests/test_colors.py::test_colormap_reversing[winter_r]",
            "lib/matplotlib/tests/test_colors.py::test_colormaps_get_cmap",
            "lib/matplotlib/tests/test_colors.py::test_conversions",
            "lib/matplotlib/tests/test_colors.py::test_conversions_masked",
            "lib/matplotlib/tests/test_colors.py::test_create_lookup_table[1-result2]",
            "lib/matplotlib/tests/test_colors.py::test_create_lookup_table[2-result1]",
            "lib/matplotlib/tests/test_colors.py::test_create_lookup_table[5-result0]",
            "lib/matplotlib/tests/test_colors.py::test_double_register_builtin_cmap",
            "lib/matplotlib/tests/test_colors.py::test_failed_conversions",
            "lib/matplotlib/tests/test_colors.py::test_get_under_over_bad",
            "lib/matplotlib/tests/test_colors.py::test_grey_gray",
            "lib/matplotlib/tests/test_colors.py::test_has_alpha_channel",
            "lib/matplotlib/tests/test_colors.py::test_hex_shorthand_notation",
            "lib/matplotlib/tests/test_colors.py::test_index_dtype[float16]",
            "lib/matplotlib/tests/test_colors.py::test_index_dtype[float]",
            "lib/matplotlib/tests/test_colors.py::test_index_dtype[int]",
            "lib/matplotlib/tests/test_colors.py::test_index_dtype[uint8]",
            "lib/matplotlib/tests/test_colors.py::test_light_source_hillshading",
            "lib/matplotlib/tests/test_colors.py::test_light_source_masked_shading",
            "lib/matplotlib/tests/test_colors.py::test_light_source_planar_hillshading",
            "lib/matplotlib/tests/test_colors.py::test_light_source_shading_default",
            "lib/matplotlib/tests/test_colors.py::test_light_source_shading_empty_mask",
            "lib/matplotlib/tests/test_colors.py::test_light_source_topo_surface[png]",
            "lib/matplotlib/tests/test_colors.py::test_lognorm_invalid[-1-2]",
            "lib/matplotlib/tests/test_colors.py::test_lognorm_invalid[3-1]",
            "lib/matplotlib/tests/test_colors.py::test_make_norm_from_scale_name",
            "lib/matplotlib/tests/test_colors.py::test_ndarray_subclass_norm",
            "lib/matplotlib/tests/test_colors.py::test_non_mutable_get_values[bad]",
            "lib/matplotlib/tests/test_colors.py::test_non_mutable_get_values[over]",
            "lib/matplotlib/tests/test_colors.py::test_non_mutable_get_values[under]",
            "lib/matplotlib/tests/test_colors.py::test_norm_deepcopy",
            "lib/matplotlib/tests/test_colors.py::test_norm_update_figs[pdf]",
            "lib/matplotlib/tests/test_colors.py::test_norm_update_figs[png]",
            "lib/matplotlib/tests/test_colors.py::test_pandas_iterable",
            "lib/matplotlib/tests/test_colors.py::test_register_cmap",
            "lib/matplotlib/tests/test_colors.py::test_repr_html",
            "lib/matplotlib/tests/test_colors.py::test_repr_png",
            "lib/matplotlib/tests/test_colors.py::test_resampled",
            "lib/matplotlib/tests/test_colors.py::test_rgb_hsv_round_trip",
            "lib/matplotlib/tests/test_colors.py::test_same_color",
            "lib/matplotlib/tests/test_colors.py::test_scalarmappable_norm_update",
            "lib/matplotlib/tests/test_colors.py::test_set_dict_to_rgba",
            "lib/matplotlib/tests/test_colors.py::test_tableau_order",
            "lib/matplotlib/tests/test_colors.py::test_to_rgba_array_alpha_array",
            "lib/matplotlib/tests/test_colors.py::test_to_rgba_array_single_str",
            "lib/matplotlib/tests/test_colors.py::test_unregister_builtin_cmap"
        ],
        "environment_setup_commit": "73909bcb408886a22e2b84581d6b9e6d9907c813",
        "patch": "diff --git a/lib/matplotlib/colors.py b/lib/matplotlib/colors.py\n--- a/lib/matplotlib/colors.py\n+++ b/lib/matplotlib/colors.py\n@@ -1362,8 +1362,12 @@ def inverse(self, value):\n \n     def autoscale(self, A):\n         \"\"\"Set *vmin*, *vmax* to min, max of *A*.\"\"\"\n-        self.vmin = self.vmax = None\n-        self.autoscale_None(A)\n+        with self.callbacks.blocked():\n+            # Pause callbacks while we are updating so we only get\n+            # a single update signal at the end\n+            self.vmin = self.vmax = None\n+            self.autoscale_None(A)\n+        self._changed()\n \n     def autoscale_None(self, A):\n         \"\"\"If vmin or vmax are not set, use the min/max of *A* to set them.\"\"\"\n",
        "pr_link": "https://github.com/matplotlib/matplotlib/pull/25079"
    }
}